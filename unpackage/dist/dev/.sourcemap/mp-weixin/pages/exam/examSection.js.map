{"version":3,"sources":["webpack:////Users/renchengkai/Desktop/project-qsk/pages/exam/examSection.vue?ea10","uni-app:///main.js","webpack:////Users/renchengkai/Desktop/project-qsk/pages/exam/examSection.vue?630b","webpack:////Users/renchengkai/Desktop/project-qsk/pages/exam/examSection.vue?a02c","webpack:////Users/renchengkai/Desktop/project-qsk/pages/exam/examSection.vue?1423","webpack:////Users/renchengkai/Desktop/project-qsk/pages/exam/examSection.vue?6b49","uni-app:///pages/exam/examSection.vue","webpack:////Users/renchengkai/Desktop/project-qsk/pages/exam/examSection.vue?f9aa"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;AAAA;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;kDCNL;AACA;AACA,uG,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACsC;;;AAGhG;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxCA;AAAA;AAAA;AAAA;AAA0zB,CAAgB,yyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuG90B;AACA;;AAEA;AACA,qF;;AAEA;AACA;AACA,kBADA;AAEA,kCAFA;AAGA,0BAHA;AAIA,sBAJA,EADA;;AAOA,MAPA,kBAOA;AACA;AACA;AACA,oBAFA;AAGA;AACA;AACA,kBADA;AAEA,iBAFA;AAGA,oBAHA,EAJA;;AASA;AACA,uBAVA;AAWA;AACA,sBAZA;AAaA;AACA,kBAdA;AAeA;AACA,sBAhBA;AAiBA;AACA,mBAlBA;AAmBA;AACA,gBApBA;AAqBA;AACA,qBAtBA;AAuBA;AACA,gBAxBA;AAyBA;AACA,kBA1BA;AA2BA,mBA3BA;AA4BA,kBA5BA;;AA8BA,GAtCA;;AAwCA;AACA;AACA,kBAFA,0BAEA,KAFA,EAEA;AACA;AACA,KAJA,EAxCA;;AA8CA,QA9CA,oBA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAvDA;AAwDA,QAxDA,oBAwDA;AACA;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA7EA;AA8EA,QA9EA,kBA8EA,MA9EA,EA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAtFA;AAuFA,UAvFA,sBAuFA;AACA;AACA;AACA,GA1FA;;AA4FA;AACA,oBADA,4BACA,KADA,EACA,QADA,EACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KATA;AAUA;;;AAGA,eAbA,yBAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,gBAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAjBA;AAkBA,KAjCA;;AAmCA;;;AAGA,eAtCA,yBAsCA;AACA;AACA,UADA,CACA;AACA;AACA,OAHA;AAIA,WAJA,CAIA;AACA;AACA,OANA;AAOA,KA9CA;;AAgDA;;;AAGA,eAnDA,uBAmDA,IAnDA,EAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAHA,MAGA;;AAEA;AACA;AACA;AACA;AACA,KAlEA;;;AAqEA;;;AAGA,WAxEA,qBAwEA;AACA;AACA,KA1EA;;AA4EA;;;AAGA,YA/EA,sBA+EA;AACA;AACA,KAjFA;;AAmFA;;;AAGA,eAtFA,yBAsFA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA7FA;;AA+FA;;;AAGA,gBAlGA,0BAkGA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA1GA;;AA4GA;;;AAGA,cA/GA,sBA+GA,KA/GA,EA+GA;AACA;AACA;AACA,KAlHA;;AAoHA;;;AAGA,YAvHA,sBAuHA;AACA;AACA;AACA,mBADA;AAEA,0BAFA;AAGA,+BAHA;AAIA,wBAJA;AAKA,eALA,mBAKA,GALA,EAKA;AACA;AACA;AACA;AACA;AACA,SAVA;;AAYA,KArIA;;AAuIA;;;AAGA,cA1IA,wBA0IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApJA;;AAsJA;;;AAGA,aAzJA,uBAyJA;AACA;AACA;AACA;AACA;AACA;AACA,sEADA;AAEA,4BAFA;AAGA,gCAHA;AAIA,wCAJA;AAKA,mCALA;;AAOA;AACA,UADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OATA;AAUA,WAVA,CAUA;AACA;AACA;AACA,OAbA;AAcA,aAdA,CAcA;AACA;AACA,OAhBA;;AAkBA,KAvLA;;AAyLA;;;AAGA,YA5LA,sBA4LA;AACA;AACA;AACA;AACA;AACA,0DADA,EACA;AACA,qDAFA,EAEA;AACA,8CAHA,CADA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAhBA,CAgBA;AACA;AACA;AACA,KAhNA;;AAkNA;;;AAGA,oBArNA,8BAqNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/NA;;AAiOA,YAjOA,sBAiOA;AACA;AACA;AACA;AACA;AACA,OAHA,EAGA,IAHA;AAIA,KAvOA,EA5FA,E;;;;;;;;;;;;;AC7GA;AAAA;AAAA;AAAA;AAAqiD,CAAgB,g8CAAG,EAAC,C","file":"pages/exam/examSection.js","sourcesContent":["// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1658025776975\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/exam/examSection.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./examSection.vue?vue&type=template&id=75346562&scoped=true&\"\nvar renderjs\nimport script from \"./examSection.vue?vue&type=script&lang=js&\"\nexport * from \"./examSection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./examSection.vue?vue&type=style&index=0&id=75346562&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75346562\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/exam/examSection.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./examSection.vue?vue&type=template&id=75346562&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 =\n    _vm.isShow && _vm.mode\n      ? _vm.getCurrentAnswer(_vm.nowQuestionNum, _vm.question)\n      : null\n  var l0 =\n    _vm.isShow && !_vm.mode\n      ? _vm.__map(_vm.questions, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m1 = _vm.getCurrentAnswer(index + 1, item)\n          return {\n            $orig: $orig,\n            m1: m1\n          }\n        })\n      : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.mode = !_vm.mode\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./examSection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./examSection.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"bg-secondary\" :style=\"{height: mode ? '100vh' : ''}\" v-if=\"isShow\">\n    \n    <!-- 导航栏 -->\n    <cu-custom bgColor=\"#FFF\" :isBack=\"false\"></cu-custom>\n\n    <!-- 顶部收缩 -->\n    <view class=\"exam-app ph40\">\n        <view class=\"exam-app__left\" @click=\"exitExam\">\n            <image class=\"exam-app__image\" src=\"/static/fanhui.png\" />\n        </view>\n        <view v-show=\"mode\" class=\"exam-app__right\" @tap=\"openTab\">\n            <image class=\"exam-app__image\" src=\"/static/exam_app.svg\" />\n        </view>\n    </view>\n\n    <!-- 题号弹框 -->\n    <uPopup zIndex=\"999\" v-model=\"showApp\" mode=\"top\" border-radius=\"20\">\n\n        <view class=\"popup\">\n            <view class=\"popup__list pl10\">\n                <view :class=\"[item.answer || item.userChoiceList ? 'popup__list-item--active' : '']\" @tap=\"goQuestion(index)\" class=\"popup__list-item fz35\" v-for=\"(item, index) in answer\"\n                    :key=\"index\">\n                    <text>{{index + 1}}</text>\n                </view>\n            </view>\n            <view class=\"popup__btn\">\n                <button class=\"button-direction\" @tap=\"$debounce(submitExam, 500, true)\"><text>交 卷</text></button>\n            </view>\n        </view>\n    </uPopup>\n\n    <!-- 时间 -->\n    <view class=\"time ph30\">\n        <view class=\"time__text fz30\">\n            <text>剩余时间</text>\n        </view>\n        <view class=\"time__num\">\n            <view class=\"time__num-item radius10 fz25\">\n                <text>{{examTime.hour}}</text>\n            </view>\n            <view class=\"time__num-dot\">\n                <text>:</text>\n            </view>\n            <view class=\"time__num-item radius10 fx25\">\n                <text>{{examTime.min}}</text>\n            </view>\n            <view class=\"time__num-dot\">\n                <text>:</text>\n            </view>\n            <view class=\"time__num-item radius10 fx25\">\n                <text>{{examTime.second}}</text>\n            </view>\n        </view>\n        <view class=\"time__count\" v-if=\"mode\">\n            <text class=\"time__count-now fz40 pl10\">{{nowQuestionNum}}</text>\n            <text class=\"time__count-total fz30\">/ {{questionCount}}</text>\n        </view>\n    </view>\n\n    <!-- 线条 -->\n    <PageLine></PageLine>\n\n\n    <!-- 题目 -->\n    <!-- 单题 -->\n    <view v-if=\"mode\">\n        <SelectExamType :mode=\"mode\" :questionIndex=\"nowQuestionNum\" :questionAnswer=\"getCurrentAnswer(nowQuestionNum, question)\" :question=\"question\" @valueChange=\"valueChange\"></SelectExamType>\n    </view>\n\n    <!-- 整卷 -->\n    <view v-else class=\"exam-main\">\n        <view v-for=\"(item, index) in questions\" :key=\"item.id\">\n            <SelectExamType :mode=\"mode\" :questionIndex=\"index + 1\" :questionAnswer=\"getCurrentAnswer(index + 1, item)\" :question=\"item\" @valueChange=\"valueChange\"></SelectExamType>\n        </view>\n    </view>\n\n\n    <!-- 底部按钮部分 -->\n    <view class=\"footer fixed\">\n        <view class=\"footer-content ph40\">\n            <view class=\"footer-content__left\">\n                <view @click=\"mode = !mode\">{{mode ? '整卷' : '单卷'}}</view>\n            </view>\n            <view class=\"footer-content__right\">\n                <view v-show=\"mode\" class=\"footer-content__right-item fz30\" @tap=\"preQuestion\">\n                    <text>上一题</text>\n                </view>\n                <view v-show=\"mode\" class=\"footer-content__right-item fz30\" @tap=\"nextQuestion\">\n                    <text>下一题</text>\n                </view>\n                <view class=\"footer-content__right-item fz30\" @tap=\"$debounce(submitExam)\">\n                    <text>交卷</text>\n                </view>\n            </view>\n        </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport uPopup from '@/components/u-popup/u-popup'\nimport SelectExamType from './components/SelectExamType'\nimport * as Utils from '@/utils/util'\nimport {getOneExamPaper, subimtExamAnswer} from '@/api/exam'\nimport BottomView from '@/components/BottomView'\nimport * as UserApi from '@/api/user'\nimport storage from '@/utils/storage';\nimport PageLine from '../../components/PageLine/index'\nexport default {\n    components: {\n        uPopup,\n        SelectExamType,\n        BottomView,\n        PageLine\n    },\n    data() {\n        return {\n            // 显示下拉框\n            showApp: false,\n            // 时间\n            examTime: {\n                hour: '00',\n                min: '00',\n                second: '00'\n            },\n            // 现在作答题号\n            nowQuestionNum: 1,\n            // 作答题目总数\n\t\t\tquestionCount: 1,\n            // 当前展示的题目\n            question: {},\n            // 做题时间\n            questionTime: '',\n            // 所有的题目\n            questions: [],\n            // 收集做题答案\n            answer: [],\n            // 交卷锁\n            isButton: false,\n            // 做题模式\n            mode: true,\n            // 用户信息\n            userInfo: {},\n            isShow: false,\n            logoutNum: 0\n        }\n    },\n\n    watch: {\n        // 监听当前题号变化 统一对上一题/下一题处理逻辑\n        nowQuestionNum(index) {\n            this.question = this.questions[index - 1];\n        }\n    },\n    onHide() {\n        // 记录当前时间, 清除定时器\n        if (this.timer) {\n            clearInterval(this.timer);\n        }\n        // 保存当前时间\n        this.nowTime = Date.now();\n        // 退出一次\n        this.logoutNum++;\n    },\n    onShow() {\n        // 第一次展示是 0 不会走\n        if (this.logoutNum !== 0 && this.logoutNum < 3) {\n            this.$toast(`您已经退出${this.logoutNum}次，3次会自动提交`);\n        } else if (this.logoutNum >= 3) {\n            this.$toast(`一秒后将自动提交`);\n            setTimeout(() => {\n                this.doHandler()\n            }, 1000)\n        }\n        // 第一次展示是没有的 nowTime\n        if (this.nowTime) {\n            // 新的时间\n            let _now = Date.now();\n            console.log(_now, this.nowTime);\n            // 比对\n            let lastTime = this.questionTime - parseInt((_now - this.nowTime) / 1000);\n            lastTime <= 0 ? this.questionTime = 0 : this.questionTime = lastTime;\n            // 初始化时间\n            this.initTime();\n        }\n    },\n    onLoad(option) {\n        this.examId = option.id;\n        if (this.examId && parseInt(this.examId) !== 0) {\n            this.getPageData()\n            this.getUserInfo();\n            // 初始化时间\n            this.initTime();\n        }\n    },\n    onUnload() {\n        this.nowTime = null;\n        clearInterval(this.timer)\n    },\n\n    methods: {\n        getCurrentAnswer(index, question) {\n            const current = this.answer[index - 1]\n            if (typeof current !== 'object') return ''\n            if (question.questionType === '1' || question.questionType === '3') {\n                return current.userChoiceList\n            } else {\n                return current.answer;\n            }\n        },\n        /**\n         * 获取试卷信息\n         */\n        getPageData() {\n            const param = {\"examPaperId\": this.examId};\n            getOneExamPaper(param).then(result => {\n                // 拆分数据\n                const exam = result.data.examPaperVo;\n                // 初始化时间\n                this.questionTime = exam.suggestTime * 60;\n                this.totalTime = exam.suggestTime;\n                // 初始化题目\n                exam.paperTitleList.forEach(function(item) {\n                    this.push(...item.questionList);\n                }, this.questions)\n                // 初始化题数\n                this.questionCount = this.questions.length;\n                // 初始化题目答案个数\n                this.answer = new Array(this.questions.length)\n                // 初始化当前要展示的题目\n                this.question = this.questions[this.nowQuestionNum - 1];\n                this.isShow = true;\n            })\n        },\n\n        /**\n         * 获取当前用户信息\n         */\n        getUserInfo() {\n            UserApi.getUserInfo({})\n                .then(result => {\n                    this.userInfo = result.data.qskInfo\n                })\n                .catch(err => {\n                    reject(err)\n                })\n        },\n\n        /**\n         * 统一处理值\n         */\n        valueChange(data) {\n            // 如果是当前的就是当前的\n            this.nowQuestionNum = data.questionIndex;\n            // 交给answer数组\n            const id = this.question.id;\n            const obj = {id};\n            if (this.question.questionType === '1' || this.question.questionType === '3') {\n                obj.userChoiceList = data.option;\n\n            } else {\n                \n                obj.answer = data.option;\n            }\n            this.answer[this.nowQuestionNum - 1] = obj;\n            console.log('answer====>', this.answer);\n        },\n\n\n        /**\n         * 打开题号弹框\n         */\n        openTab() {\n\t\t\tthis.showApp = true\n\t\t},\n\n        /**\n         * 关闭选项卡\n         */\n        closeTab() {\n            this.showApp = false\n        },\n\n        /**\n         * 上一题\n         */\n        preQuestion() {\n            var preNum = this.nowQuestionNum - 1;\n            if (preNum < 1) {\n                this.nowQuestionNum = 1\n            } else {\n                this.nowQuestionNum = preNum\n            }\n        },\n\n        /**\n         * 下一题\n         */\n        nextQuestion() {\n            var nextNum = this.nowQuestionNum + 1;\n            // 判断是否是最后一道题\n            if (nextNum > this.questions.length) {\n                return false;\n            } else {\n                this.nowQuestionNum = nextNum;\n            }\n        },\n\n        /**\n         * 跳到对应的题目\n         */\n        goQuestion(index) {\n            this.nowQuestionNum = index + 1\n            this.showApp = false\n        },\n\n        /**\n         * 退出\n         */\n        exitExam() {\n            const that = this;\n            uni.showModal({\n                title: '提示',\n                content: '退出将强制交卷',\n                confirmColor: '#0076fb',\n                showCancel: true,\n                success(res) {\n                    if (res.confirm) {\n                        // 交卷操作\n                        that.doHandler();\n                    }\n                }\n            })\n        },\n\n        /**\n         * 交卷操作\n         */\n        submitExam() {\n            const that = this;\n            const notAnswered = this.countNotAnswered();\n            let msg = '确认要交卷吗?'\n            if (notAnswered !== 0) {\n                this.$toast('您还有' + notAnswered + '题未作答，请作答完毕');\n                return;\n            }\n            // 够了\n            this.doHandler();\n        },\n\n        /**\n         * 交卷请求\n         */\n        doHandler() {\n            if (this.isButton) return;\n            this.isButton = true;\n            // 发送请求\n            this.$toast('正在交卷中...');\n            const collectAnswer = {\n                doTime: this.totalTime - parseInt(this.questionTime / 60) + '',\n                paperId: this.examId,\n                userId: this.userInfo.id,\n                userName: this.userInfo.userName,\n                userAnswerList: this.answer\n            }\n            subimtExamAnswer(collectAnswer)\n                .then(result => {\n                    // 将成绩发送到考试结果页面\n                    let score = result.data.score;\n                    console.log(score);\n                    // 清空lastTime\n                    storage.remove('lastTime');\n                    // 跳转路径\n                    this.$navTo('pages/exam/examScore', {score}, 'redirectTo')\n                })\n                .catch(err => {\n                    console.log(err);\n                    this.isButton = false;\n                })\n                .finally(() => {\n                    this.isButton = false;\n                })\n            \n        },\n\n        /**\n         * 展示剩余时间\n         */\n        showTime() {\n            try {\n                // 毫秒数\n                if (this.questionTime !== '') {\n                    let time = this.questionTime * 1000,\n                    timeh = Math.floor(time / (1000 * 60 * 60) % 24), //计算小时数\n\t\t\t\t\ttimem = Math.floor(time / (1000 * 60) % 60), //计算分钟数\n\t\t\t\t\ttimes = Math.floor(time / 1000 % 60); //计算秒数\n                    this.examTime.hour = Utils.addPreZero(timeh);\n                    this.examTime.min = Utils.addPreZero(timem);\n                    this.examTime.second = Utils.addPreZero(times);\n                    // 判断是否考试结束\n                    if (timeh === 0 && timem === 0 && times === 0) {\n                        // 交卷操作\n                        this.doHandler();\n                    }\n                }\n            } catch (err) {\n                console.log(err)\n            }\n        },\n\n        /**\n         * 统计还有多少题未做\n         */\n        countNotAnswered() {\n            const len = this.answer.length;\n            let notAnswered = len;\n            for (let i = 0; i < len; i++) {\n                if (this.answer[i]?.answer || this.answer[i]?.userChoiceList) {\n                    notAnswered -= 1;\n                }\n            }\n            console.log(notAnswered);\n            return notAnswered\n        },\n\n        initTime() {\n            this.showTime();\n            this.timer = setInterval(() => {\n                this.questionTime--;\n                this.showTime()\n            }, 1000);\n        }\n\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/styles/settings/var.scss\";\n@import \"@/styles/tools/index.scss\";\n.exam-app {\n    @include box-center($justify: space-between);\n    .exam-app__left, .exam-app__right {\n        @include dimensions(49rpx, 49rpx);\n    }\n    .exam-app__image {\n        @include dimensions(100%, 100%);\n    }\n}\n\n.popup {\n    padding-top: 150rpx;\n    margin: 0 40rpx 25rpx 40rpx;\n\n    .popup__btn {\n        padding: 0rpx 200rpx 0 200rpx;\n    }\n\n    .popup__list {\n        @include grid($flex-wrap: wrap, $justify-content: space-start);\n    }\n\n    .popup__list-item {\n        @include dimensions(81rpx, 81rpx);\n        margin: 15rpx;\n        border-radius: 100%;\n        text-align: center;\n        border: 1px solid $border-color-base;\n        line-height: 81rpx;\n    }\n    .popup__list-item--active {\n        background: $background-color-tertiary;\n        color: $color-text-tertiary;\n    }\n}\n\n\n.time {\n    height: 120rpx;\n    @include grid($justify-content: space-start);\n\n    .time__text {\n        height: 120rpx;\n        text-align: right;\n        color: $color-text-secondary;\n        line-height: 120rpx;\n    }\n\n    .time__num {\n        @include dimensions(200rpx, 120rpx);\n        padding: 37rpx 15rpx;\n        @include grid($justify-content: space-between);\n    }\n    .time__num-item {\n        @include dimensions(44rpx, 46rpx);\n        background: #333333;\n        color: $color-white;\n        text-align: center;\n        line-height: 46rpx;\n    }\n\n    .time__num-dot {\n        line-height: 46rpx;\n    }\n\n    .time__count {\n        @include dimensions(96rpx, 120rpx);\n        line-height: 120rpx;\n        text-align: right;\n        flex: 1;\n\n    }\n\n    .time__count-now {\n        @include dimensions(48rpx, 56rpx);\n        line-height: 56rpx;\n    }\n\n    .time__count-total {\n        @include dimensions(48rpx, 40rpx);\n        font-weight: 400;\n        text-align: center;\n        color: #cccccc;\n        line-height: 40rpx;\n    }\n}\n\n\n\n\n.footer {\n    bottom: 0;\n    background: $background-color-secondary;\n\n    .footer-content {\n        min-width: 740rpx;\n        height: 100rpx;\n        line-height: 100rpx;\n\n        @include grid($justify-content: space-between);\n\n        .footer-content__right {\n            display: flex;\n        \n            .footer-content__right-item {\n                @include dimensions(120rpx, 100rpx);\n                font-family: PingFangSC, PingFangSC-Regular;\n                font-weight: 400;\n                text-align: right;\n                color: $color-text-quaternary;\n            }\n        }\n\t}\n}\n\n\n.exam-main {\n    padding-bottom: 200rpx !important;\n}\n</style>","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./examSection.vue?vue&type=style&index=0&id=75346562&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./examSection.vue?vue&type=style&index=0&id=75346562&lang=scss&scoped=true&\""],"sourceRoot":""}